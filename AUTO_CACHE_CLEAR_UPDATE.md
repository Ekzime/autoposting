# üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ AI

## –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### ‚è∞ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞
- –ö–µ—à –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π –≤ –ø–∞–º—è—Ç–∏
- –ò–∑–±–µ–≥–∞–µ—Ç –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π –Ω–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥—É–±–ª–∏–∫–∞—Ç—ã

### üìä –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–µ—à–∞
**–ö–æ–º–∞–Ω–¥–∞:** `/ai_cache_stats`

–¢–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –†–∞–∑–º–µ—Ä –∫–µ—à–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π)
- –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∏
- –ß–∞—Å–æ–≤ –ø—Ä–æ—à–ª–æ —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—á–∏—Å—Ç–∫–∏
- –ß–∞—Å–æ–≤ –¥–æ —Å–ª–µ–¥—É—é—â–µ–π –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∏
- –¢–æ—á–Ω–æ–µ –≤—Ä–µ–º—è —Å–ª–µ–¥—É—é—â–µ–π –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∏

### üöÄ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞
**–ö–æ–º–∞–Ω–¥–∞:** `/force_auto_clear`

–ü–æ–∑–≤–æ–ª—è–µ—Ç:
- –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫—É –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
- –ù–µ –∂–¥–∞—Ç—å 24 —á–∞—Å–∞
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏

### üõ†Ô∏è –ù–æ–≤—ã–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

1. **GET `/gemini/cache_stats`** - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
2. **POST `/gemini/force_auto_clear`** - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ª–æ–≥–∏–∫–∞
```python
def check_and_auto_clear_cache():
    current_time = datetime.now()
    hours_passed = (current_time - last_cache_clear).total_seconds() / 3600
    
    if hours_passed >= 24:
        # –û—á–∏—â–∞–µ–º –∫–µ—à
        processed_content_hashes.clear()
        last_cache_clear = current_time
        return True
```

### –ö–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞
- –ü—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ `process_posts()`
- –ü—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ `filter_duplicate_results()`
- –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –ü—Ä–∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –æ—á–∏—Å—Ç–∫–µ

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞–º—è—Ç–∏**
- –ö–µ—à –Ω–µ —Ä–∞—Å—Ç–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ

‚úÖ **–ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏**
- –°—Ç–∞—Ä—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –Ω–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è

‚úÖ **–ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å**
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**
- –ú–æ–∂–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∏:
```
/ai_cache_stats
```

### –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å –∫–µ—à:
```
/force_auto_clear
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ª–æ–≥–∞—Ö:
```
üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞: —É–¥–∞–ª–µ–Ω–æ X –∑–∞–ø–∏—Å–µ–π
‚è∞ –°–ª–µ–¥—É—é—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞: 2024-01-01 15:30:00
```

## –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç

–¢–µ—Å—Ç `test_auto_clear_functionality()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –≤ –∫–µ—à–µ
- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—É—é –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫—É
- –ü—Ä–∞–≤–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

## –ö–æ–º–∞–Ω–¥—ã –≤ –±–æ—Ç–µ

–û–±–Ω–æ–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –≤ `/help`:
- –î–æ–±–∞–≤–ª–µ–Ω–∞ `/force_auto_clear`
- –£–ª—É—á—à–µ–Ω–∞ `/ai_cache_stats`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–µ

---

üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** AI —Å–µ—Ä–≤–∏—Å —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–µ–Ω –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∫–µ—à–µ–º –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –ø–∞–º—è—Ç—å—é –∏–ª–∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏–º–∏ –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏. 