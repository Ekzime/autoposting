
# Auto posting

## Описание проекта
Автоматизированная система для агрегации и фильтрации контента из Telegram-каналов с помощью искусственного интеллекта.

### Принцип работы
1. Пользователь подключает Telegram-аккаунт и указывает каналы для мониторинга
2. Система в реальном времени отслеживает новые сообщения в указанных каналах
3. AI-сервис обрабатывает полученные сообщения:
   - Фильтрует рекламу и спам
   - Устраняет дублирующийся контент
   - Корректирует текст согласно заданным правилам
4. Обработанные сообщения публикуются в целевом канале

### Преимущества
- Автоматическая фильтрация нежелательного контента
- Интеллектуальная обработка текста
- Агрегация контента из множества источников
- Постоянный поток актуальной информации

## Архитектура

Проект построен на модульной архитектуре и состоит из следующих компонентов:
### Основные компоненты
- **Парсер Telegram** - Обеспечивает подключение к Telegram через пользовательский аккаунт и мониторит указанные каналы
- **AI Сервис** - Фильтрует и обрабатывает посты используя модель Gemini
- **Бот** - Публикует обработанный контент в целевой канал

### Конфигурация
Проект использует переменные окружения для настройки:
- Учетные данные Telegram (API_ID, API_HASH, PHONE_NUMBER, SESSION)
- API ключ для Gemini
- Список каналов-источников
- Настройки целевого канала

### Ключевые файлы
- `main.py` - Точка входа в приложение
- `AIservice/gemini.py` - FastAPI сервис для обработки через AI
- `AIservice/prompts.py` - Шаблоны промптов для AI модели
- `telegram/parser/config.py` - Конфигурация парсера
- `telegram/bot/` - Реализация бота

### Поток данных
1. Парсер отслеживает настроенные каналы-источники
2. Новые посты отправляются в AI сервис для обработки
3. AI сервис фильтрует и переформатирует контент:
   - Удаляет рекламу и промо-материалы
   - Устраняет дубликаты
   - Переформатирует текст с сохранением ключевой информации
   - Возвращает очищенные посты в JSON формате
4. Обработанные посты публикуются в целевой канал

### Запуск проекта
На данный момент реализованы сервисы:

## AI filter
Для фильрации новостей, используется модель `gemini-1.5-flash`. Использоваьт модель можно через фаст апи.
Принимает json с полем `posts`, внутри которого должен быть пост.

Все настройки, которые применяются в модели, записаны в файле `ai_filter/promts.py`.

В данный момент, модель тестируется только на данных без фотографий из постов.

Основной упор на то, что бы она немного перефразировала текст, без потери информации которая имеется в посте.
Также убирает дубликаты текста похожего по смыслу, ссылки, розыгрыши, рекламу и прочие активности.
Формат ответа — JSON-массив объектов

Запуск сервиса с джемини:
```bash
uvicorn AIservice.gemini:app --host 127.0.0.1 --port 8000 --reload
```